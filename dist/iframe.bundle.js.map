{"version":3,"file":"iframe.bundle.js","mappings":"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","sources":["webpack://Onairos/webpack/universalModuleDefinition","webpack://Onairos/external umd {\"commonjs\":\"react\",\"commonjs2\":\"react\",\"amd\":\"React\",\"root\":\"React\"}","webpack://Onairos/external umd {\"commonjs\":\"react-dom\",\"commonjs2\":\"react-dom\",\"amd\":\"ReactDOM\",\"root\":\"ReactDOM\"}","webpack://Onairos/./node_modules/react-dom/client.js","webpack://Onairos/webpack/bootstrap","webpack://Onairos/webpack/runtime/compat get default export","webpack://Onairos/webpack/runtime/define property getters","webpack://Onairos/webpack/runtime/global","webpack://Onairos/webpack/runtime/hasOwnProperty shorthand","webpack://Onairos/webpack/runtime/publicPath","webpack://Onairos/./src/components/UniversalOnboarding.jsx","webpack://Onairos/./src/iframe/components/Box.jsx","webpack://Onairos/./src/iframe/components/IndividualConnection.jsx","webpack://Onairos/./src/iframe/DataRequestPage.jsx","webpack://Onairos/./src/iframe/data_request_page.js"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"react\"), require(\"react-dom\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"Onairos\", [\"React\", \"ReactDOM\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Onairos\"] = factory(require(\"react\"), require(\"react-dom\"));\n\telse\n\t\troot[\"Onairos\"] = factory(root[\"React\"], root[\"ReactDOM\"]);\n})(this, (__WEBPACK_EXTERNAL_MODULE__156__, __WEBPACK_EXTERNAL_MODULE__318__) => {\nreturn ","module.exports = __WEBPACK_EXTERNAL_MODULE__156__;","module.exports = __WEBPACK_EXTERNAL_MODULE__318__;","'use strict';\n\nvar m = require('react-dom');\nif (process.env.NODE_ENV === 'production') {\n  exports.createRoot = m.createRoot;\n  exports.hydrateRoot = m.hydrateRoot;\n} else {\n  var i = m.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;\n  exports.createRoot = function(c, o) {\n    i.usingClientEntryPoint = true;\n    try {\n      return m.createRoot(c, o);\n    } finally {\n      i.usingClientEntryPoint = false;\n    }\n  };\n  exports.hydrateRoot = function(c, h, o) {\n    i.usingClientEntryPoint = true;\n    try {\n      return m.hydrateRoot(c, h, o);\n    } finally {\n      i.usingClientEntryPoint = false;\n    }\n  };\n}\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","var scriptUrl;\nif (__webpack_require__.g.importScripts) scriptUrl = __webpack_require__.g.location + \"\";\nvar document = __webpack_require__.g.document;\nif (!scriptUrl && document) {\n\tif (document.currentScript && document.currentScript.tagName.toUpperCase() === 'SCRIPT')\n\t\tscriptUrl = document.currentScript.src;\n\tif (!scriptUrl) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tif(scripts.length) {\n\t\t\tvar i = scripts.length - 1;\n\t\t\twhile (i > -1 && (!scriptUrl || !/^http(s?):/.test(scriptUrl))) scriptUrl = scripts[i--].src;\n\t\t}\n\t}\n}\n// When supporting browsers where an automatic publicPath is not supported you must specify an output.publicPath manually via configuration\n// or pass an empty string (\"\") and set the __webpack_public_path__ variable from your code to use your own logic.\nif (!scriptUrl) throw new Error(\"Automatic publicPath is not supported in this browser\");\nscriptUrl = scriptUrl.replace(/^blob:/, \"\").replace(/#.*$/, \"\").replace(/\\?.*$/, \"\").replace(/\\/[^\\/]+$/, \"/\");\n__webpack_require__.p = scriptUrl;","import React, { useState, useEffect } from 'react';\n\nconst platforms = [\n  { name: 'YouTube', icon: 'ðŸ“º', color: 'bg-red-500', connector: 'youtube' },\n  { name: 'LinkedIn', icon: 'ðŸ’¼', color: 'bg-blue-700', connector: 'linkedin' },\n  { name: 'Reddit', icon: 'ðŸ”¥', color: 'bg-orange-500', connector: 'reddit' },\n  { name: 'Pinterest', icon: 'ðŸ“Œ', color: 'bg-red-600', connector: 'pinterest' },\n  { name: 'Instagram', icon: 'ðŸ“·', color: 'bg-pink-500', connector: 'instagram' },\n  { name: 'GitHub', icon: 'âš¡', color: 'bg-gray-800', connector: 'github' },\n  { name: 'Facebook', icon: 'ðŸ‘¥', color: 'bg-blue-600', connector: 'facebook' },\n  { name: 'Gmail', icon: 'âœ‰ï¸', color: 'bg-red-400', connector: 'gmail' }\n];\n\n// Enhanced SDK configuration\nconst sdkConfig = {\n  apiKey: process.env.REACT_APP_ONAIROS_API_KEY || 'onairos_web_sdk_live_key_2024',\n  baseUrl: process.env.REACT_APP_ONAIROS_BASE_URL || 'https://api2.onairos.uk',\n  sdkType: 'web', // web, mobile, desktop\n  enableHealthMonitoring: true,\n  enableAutoRefresh: true,\n  enableConnectionValidation: true\n};\n\n/**\n * UniversalOnboarding Component - Compact & Enhanced\n * Displays a streamlined onboarding screen for data connections\n */\nexport default function UniversalOnboarding({ onComplete, appIcon, appName = 'App' }) {\n  const [connectedAccounts, setConnectedAccounts] = useState({});\n  const [isConnecting, setIsConnecting] = useState(false);\n  const [connectingPlatform, setConnectingPlatform] = useState(null);\n  const [connectionErrors, setConnectionErrors] = useState({});\n  const [connectionHealth, setConnectionHealth] = useState({});\n  const [healthScore, setHealthScore] = useState(0);\n\n  // Mobile device detection\n  const isMobileDevice = () => {\n    return /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent) ||\n           (window.innerWidth <= 768);\n  };\n\n  // Handle mobile OAuth return\n  useEffect(() => {\n    const handleOAuthReturn = () => {\n      const platform = localStorage.getItem('onairos_oauth_platform');\n      if (platform) {\n        console.log(`ðŸ“± OAuth return detected for: ${platform}`);\n        \n        // Clear OAuth state\n        localStorage.removeItem('onairos_oauth_platform');\n        localStorage.removeItem('onairos_oauth_return');\n        \n        // Mark as connected\n        setConnectedAccounts(prev => ({\n          ...prev,\n          [platform]: true\n        }));\n        \n        // Clear any errors\n        setConnectionErrors(prev => ({\n          ...prev,\n          [platform]: null\n        }));\n        \n        console.log(`âœ… ${platform} marked as connected from OAuth return`);\n      }\n    };\n\n    handleOAuthReturn();\n  }, []);\n\n  const connectToPlatform = async (platformName) => {\n    console.log(`ðŸš€ connectToPlatform called for: ${platformName}`);\n    \n    const platform = platforms.find(p => p.name === platformName);\n    if (!platform?.connector) {\n      console.error(`âŒ No connector found for platform: ${platformName}`);\n      return false;\n    }\n\n    try {\n      setIsConnecting(true);\n      setConnectingPlatform(platformName);\n      \n      // Clear any previous errors\n      setConnectionErrors(prev => ({\n        ...prev,\n        [platformName]: null\n      }));\n      \n      console.log(`ðŸ”— Starting OAuth connection for ${platformName}...`);\n      \n      const username = localStorage.getItem('username') || localStorage.getItem('onairosUser')?.email || 'user@example.com';\n      \n      // Enhanced authorize endpoint with SDK type\n      const authorizeUrl = `${sdkConfig.baseUrl}/${platform.connector}/authorize`;\n      \n      const response = await fetch(authorizeUrl, {\n        method: 'POST',\n        headers: {\n          'x-api-key': sdkConfig.apiKey,\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          session: {\n            username: username\n          }\n        })\n      });\n\n      if (!response.ok) {\n        throw new Error(`HTTP ${response.status}: ${response.statusText}`);\n      }\n\n             const responseData = await response.json();\n       console.log(`ðŸ“‹ ${platformName} OAuth response:`, responseData);\n       \n       // Check for platform-specific URL keys with multiple fallbacks\n       const platformUrlKeys = {\n         'youtube': ['youtubeURL', 'youtubeUrl', 'youtube_url'],\n         'linkedin': ['linkedinURL', 'linkedinUrl', 'linkedin_url'], \n         'reddit': ['redditURL', 'redditUrl', 'reddit_url'],\n         'pinterest': ['pinterestURL', 'pinterestUrl', 'pinterest_url'],\n         'instagram': ['instagramURL', 'instagramUrl', 'instagram_url'],\n         'github': ['githubURL', 'githubUrl', 'github_url'],\n         'facebook': ['facebookURL', 'facebookUrl', 'facebook_url'],\n         'gmail': ['gmailURL', 'gmailUrl', 'gmail_url']\n       };\n       \n       const possibleKeys = platformUrlKeys[platform.connector] || [\n         `${platform.connector}URL`,\n         `${platform.connector}Url`, \n         `${platform.connector}_url`,\n         'platformURL',\n         'authUrl', \n         'url'\n       ];\n       \n       let oauthUrl = null;\n       let usedKey = null;\n       \n       // Try each possible key\n       for (const key of possibleKeys) {\n         if (responseData[key]) {\n           oauthUrl = responseData[key];\n           usedKey = key;\n           break;\n         }\n       }\n       \n       if (!oauthUrl) {\n         console.error(`âŒ No OAuth URL found for ${platformName}:`);\n         console.error(`Expected one of:`, possibleKeys);\n         console.error(`Response keys:`, Object.keys(responseData));\n         console.error(`Full response:`, responseData);\n         throw new Error(`No OAuth URL found. Backend should return one of: ${possibleKeys.join(', ')}`);\n       }\n       \n       console.log(`âœ… Found OAuth URL for ${platformName} using key: ${usedKey}`);\n        \n      if (isMobileDevice()) {\n        // Mobile: Use redirect flow\n        localStorage.setItem('onairos_oauth_platform', platformName);\n        localStorage.setItem('onairos_oauth_return', window.location.href);\n        window.location.href = oauthUrl;\n        return true;\n      } else {\n        // Desktop: Use popup flow with enhanced monitoring\n        const popup = window.open(\n          oauthUrl,\n          `${platform.connector}_oauth`,\n          'width=500,height=600,scrollbars=yes,resizable=yes,status=no,location=no,toolbar=no,menubar=no'\n        );\n        \n        if (!popup) {\n          throw new Error('Popup blocked. Please allow popups and try again.');\n        }\n\n                 // Enhanced popup monitoring with onairos.uk detection\n         let hasNavigatedToOnairos = false;\n         const checkInterval = setInterval(() => {\n           try {\n             // Try to detect if popup has navigated to onairos.uk (indicates success)\n             if (popup.location && popup.location.hostname === 'onairos.uk') {\n               hasNavigatedToOnairos = true;\n               console.log(`ðŸ”„ ${platformName} popup navigated to onairos.uk - treating as success`);\n               \n               // Close the popup since it shows \"not found\"\n               popup.close();\n               return; // Let the popup.closed check handle the rest\n             }\n           } catch (e) {\n             // Cross-origin error is expected when popup navigates to onairos.uk\n             // This actually indicates the OAuth likely succeeded\n             if (!hasNavigatedToOnairos) {\n               hasNavigatedToOnairos = true;\n               console.log(`ðŸ”„ ${platformName} popup navigated (cross-origin) - likely to onairos.uk`);\n             }\n           }\n           \n           try {\n             // Check if popup is closed\n             if (popup.closed) {\n               clearInterval(checkInterval);\n               \n               // Check for success or error signals from callback page\n               const successFlag = localStorage.getItem(`onairos_${platformName}_success`);\n               const errorFlag = localStorage.getItem(`onairos_${platformName}_error`);\n               const timestamp = localStorage.getItem(`onairos_${platformName}_timestamp`);\n               \n               // Only process recent signals (within 30 seconds)\n               const isRecentSignal = timestamp && (Date.now() - parseInt(timestamp) < 30000);\n               \n               if (successFlag && isRecentSignal) {\n                 // Success flow from callback page\n                 console.log(`âœ… ${platformName} OAuth completed successfully (callback page)`);\n                 localStorage.removeItem(`onairos_${platformName}_success`);\n                 localStorage.removeItem(`onairos_${platformName}_timestamp`);\n                 \n                 setConnectedAccounts(prev => ({\n                   ...prev,\n                   [platformName]: true\n                 }));\n                 setConnectionErrors(prev => ({\n                   ...prev,\n                   [platformName]: null\n                 }));\n                 \n               } else if (errorFlag && isRecentSignal) {\n                 // Error flow from callback page\n                 console.log(`âŒ ${platformName} OAuth failed:`, errorFlag);\n                 localStorage.removeItem(`onairos_${platformName}_error`);\n                 localStorage.removeItem(`onairos_${platformName}_timestamp`);\n                 \n                 setConnectionErrors(prev => ({\n                   ...prev,\n                   [platformName]: errorFlag\n                 }));\n                 \n               } else if (hasNavigatedToOnairos) {\n                 // Popup navigated to onairos.uk - assume success\n                 console.log(`âœ… ${platformName} OAuth likely successful (navigated to onairos.uk)`);\n                 setConnectedAccounts(prev => ({\n                   ...prev,\n                   [platformName]: true\n                 }));\n                 setConnectionErrors(prev => ({\n                   ...prev,\n                   [platformName]: null\n                 }));\n                 \n               } else {\n                 // No signal and no onairos navigation - assume user cancelled\n                 console.log(`âš ï¸ ${platformName} OAuth cancelled or no response`);\n                 setConnectionErrors(prev => ({\n                   ...prev,\n                   [platformName]: 'Connection was cancelled'\n                 }));\n               }\n               \n               setIsConnecting(false);\n               setConnectingPlatform(null);\n             }\n           } catch (error) {\n             // Cross-origin error when popup navigates away - this is normal\n             // console.log(`ðŸ”„ Popup navigated away for ${platformName}`);\n           }\n         }, 1000);\n\n                 // Auto-close popup if it shows onairos.uk \"not found\" page after 10 seconds\n         setTimeout(() => {\n           try {\n             if (!popup.closed && popup.location && popup.location.hostname === 'onairos.uk') {\n               console.log(`ðŸšª Auto-closing ${platformName} popup showing onairos.uk (not found)`);\n               popup.close();\n             }\n           } catch (e) {\n             // Cross-origin error is expected - try to close anyway if it's been 10 seconds\n             if (!popup.closed && hasNavigatedToOnairos) {\n               console.log(`ðŸšª Auto-closing ${platformName} popup (cross-origin, likely onairos.uk)`);\n               popup.close();\n             }\n           }\n         }, 10000);\n\n         // Final timeout after 5 minutes\n         setTimeout(() => {\n           if (!popup.closed) {\n             popup.close();\n             clearInterval(checkInterval);\n             setConnectionErrors(prev => ({\n               ...prev,\n               [platformName]: 'Connection timeout'\n             }));\n             setIsConnecting(false);\n             setConnectingPlatform(null);\n           }\n         }, 300000);\n\n        return true;\n      }\n    } catch (error) {\n      console.error(`âŒ Error connecting to ${platformName}:`, error);\n      setConnectionErrors(prev => ({\n        ...prev,\n        [platformName]: error.message\n      }));\n      setIsConnecting(false);\n      setConnectingPlatform(null);\n      return false;\n    }\n  };\n\n  const handleToggle = async (platformName) => {\n    console.log(`ðŸ”¥ TOGGLE CLICKED: ${platformName}`);\n    \n    if (isConnecting && connectingPlatform !== platformName) {\n      console.log(`âš ï¸ Already connecting to ${connectingPlatform}, ignoring click on ${platformName}`);\n      return;\n    }\n    \n    const isConnected = connectedAccounts[platformName];\n    \n    if (isConnected) {\n      // Disconnect\n      console.log(`ðŸ”Œ Disconnecting from ${platformName}...`);\n      setConnectedAccounts(prev => ({\n        ...prev,\n        [platformName]: false\n      }));\n      setConnectionErrors(prev => ({\n        ...prev,\n        [platformName]: null\n      }));\n    } else {\n      // Connect\n      await connectToPlatform(platformName);\n    }\n  };\n\n  const handleContinue = () => {\n    const connected = Object.entries(connectedAccounts)\n      .filter(([platform, isConnected]) => isConnected)\n      .map(([platform]) => platform);\n    \n    onComplete({\n      connectedAccounts: connected,\n      totalConnections: connected.length,\n      healthScore: healthScore,\n      connectionHealth: connectionHealth,\n      sdkVersion: '2.1.7',\n      enhancedFeatures: {\n        healthMonitoring: sdkConfig.enableHealthMonitoring,\n        autoRefresh: sdkConfig.enableAutoRefresh,\n        connectionValidation: sdkConfig.enableConnectionValidation\n      }\n    });\n  };\n\n  const connectedCount = Object.values(connectedAccounts).filter(Boolean).length;\n\n  return (\n    <div className=\"max-w-sm mx-auto bg-white p-4 rounded-lg shadow-lg\">\n      {/* Compact Header */}\n      <div className=\"flex items-center justify-center mb-4\">\n        <div className=\"flex items-center space-x-2\">\n          <img \n            src={appIcon || \"https://onairos.sirv.com/Images/OnairosBlack.png\"} \n            alt={appName} \n            className=\"w-8 h-8 rounded-lg\"\n          />\n          <div className=\"flex items-center text-gray-400\">\n            <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M17 8l4 4m0 0l-4 4m4-4H3\" />\n            </svg>\n          </div>\n          <img \n            src=\"https://onairos.sirv.com/Images/OnairosBlack.png\" \n            alt=\"Onairos\" \n            className=\"w-8 h-8 rounded-lg\"\n          />\n        </div>\n      </div>\n\n      {/* Simple Clear Title */}\n      <div className=\"text-center mb-4\">\n        <h2 className=\"text-lg font-bold text-gray-900 mb-1\">Connect Data</h2>\n        <p className=\"text-gray-600 text-sm\">\n          Connect data here to enhance your {appName} experience\n        </p>\n      </div>\n\n      {/* Platform Toggle List */}\n      <div className=\"space-y-3 mb-4\">\n        {platforms.slice(0, 6).map((platform) => {\n          const isConnected = connectedAccounts[platform.name] || false;\n          const isCurrentlyConnecting = connectingPlatform === platform.name;\n          const hasError = connectionErrors[platform.name];\n          const isDisabled = isConnecting && !isCurrentlyConnecting;\n          \n          return (\n            <div \n              key={platform.name}\n              className={`flex items-center justify-between p-3 border rounded-lg transition-all duration-200 ${\n                isDisabled ? 'opacity-50 cursor-not-allowed' : 'cursor-pointer hover:bg-gray-50'\n              } ${\n                isConnected ? 'border-green-300 bg-green-50' : \n                hasError ? 'border-red-300 bg-red-50' :\n                isCurrentlyConnecting ? 'border-blue-300 bg-blue-50' : \n                'border-gray-200 bg-white'\n              }`}\n              onClick={() => !isDisabled && handleToggle(platform.name)}\n            >\n              {/* Left side - Platform info */}\n              <div className=\"flex items-center space-x-3\">\n                {/* Platform Icon */}\n                <div className={`w-10 h-10 rounded-lg ${platform.color} flex items-center justify-center text-white text-lg relative`}>\n                  {isCurrentlyConnecting ? (\n                    <div className=\"animate-spin h-5 w-5 border-2 border-white rounded-full border-t-transparent\"></div>\n                  ) : (\n                    platform.icon\n                  )}\n                  \n                  {/* Connection Status Indicator */}\n                  {isConnected && !isCurrentlyConnecting && (\n                    <div className=\"absolute -top-1 -right-1 w-4 h-4 bg-green-500 rounded-full flex items-center justify-center\">\n                      <svg className=\"w-2.5 h-2.5 text-white\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n                        <path fillRule=\"evenodd\" d=\"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z\" clipRule=\"evenodd\" />\n                      </svg>\n                    </div>\n                  )}\n                  \n                  {hasError && !isCurrentlyConnecting && (\n                    <div className=\"absolute -top-1 -right-1 w-4 h-4 bg-red-500 rounded-full flex items-center justify-center\">\n                      <svg className=\"w-2.5 h-2.5 text-white\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n                        <path fillRule=\"evenodd\" d=\"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z\" clipRule=\"evenodd\" />\n                      </svg>\n                    </div>\n                  )}\n                </div>\n                \n                {/* Platform Name and Description */}\n                <div className=\"flex-1\">\n                  <h3 className=\"font-semibold text-gray-900 text-sm\">{platform.name}</h3>\n                  <p className=\"text-gray-600 text-xs\">\n                    {platform.name === 'YouTube' ? 'We analyze your watch history, likes, and subscriptions to understand your interests.' :\n                     platform.name === 'Pinterest' ? 'We analyze your pins, boards, and interests to understand your style and preferences.' :\n                     `Connect your ${platform.name} account to enhance your experience.`}\n                  </p>\n                  \n                  {/* Error Message */}\n                  {hasError && (\n                    <p className=\"text-xs text-red-600 mt-1\">\n                      {hasError}\n                    </p>\n                  )}\n                </div>\n              </div>\n              \n              {/* Right side - Toggle Switch */}\n              <div className=\"flex items-center\">\n                <button\n                  className={`relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 ${\n                    isConnected ? 'bg-blue-600' : 'bg-gray-200'\n                  } ${isDisabled ? 'opacity-50 cursor-not-allowed' : 'cursor-pointer'}`}\n                  onClick={(e) => {\n                    e.stopPropagation();\n                    if (!isDisabled) handleToggle(platform.name);\n                  }}\n                  disabled={isDisabled}\n                >\n                  <span\n                    className={`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${\n                      isConnected ? 'translate-x-6' : 'translate-x-1'\n                    }`}\n                  />\n                </button>\n              </div>\n            </div>\n          );\n        })}\n      </div>\n\n      {/* Connection Status Summary */}\n      {connectedCount > 0 && (\n        <div className=\"mb-4 p-2 bg-green-50 border border-green-200 rounded-lg\">\n          <p className=\"text-green-800 text-sm text-center\">\n            âœ… {connectedCount} connection{connectedCount > 1 ? 's' : ''} active\n          </p>\n        </div>\n      )}\n\n      {/* Continue Button */}\n      <button\n        onClick={handleContinue}\n        disabled={connectedCount === 0}\n        className={`mx-auto px-3 py-2 rounded-lg font-medium transition-colors text-xs max-w-40 ${\n          connectedCount > 0\n            ? 'bg-blue-600 text-white hover:bg-blue-700'\n            : 'bg-gray-300 text-gray-500 cursor-not-allowed'\n        }`}\n      >\n        {connectedCount > 0 ? `Continue with ${connectedCount} connection${connectedCount > 1 ? 's' : ''}` : 'Connect at least one platform'}\n      </button>\n\n      {/* Skip Option */}\n      <button\n        onClick={() => onComplete({ connectedAccounts: [], totalConnections: 0 })}\n        className=\"mx-auto mt-2 py-2 px-4 text-gray-500 hover:text-gray-700 text-sm\"\n      >\n        Skip for now\n      </button>\n    </div>\n  );\n}\n","import React from 'react';\n\n/**\n * Box Component\n * Displays a checkbox item for data access requests\n */\nconst Box = (props) => {\n  const handleChange = (e) => {\n    const checked = e.target.checked;\n    console.log(`Checkbox ${props.title} is now: ${checked ? 'checked' : 'unchecked'}`);\n    if (checked) {\n      props.setSelected(true);\n      props.changeGranted(1);\n    } else {\n      props.setSelected(false);\n      props.changeGranted(-1);\n    }\n    \n    props.onSelectionChange(checked);\n  };\n\n  return (\n    <div className=\"relative inline-flex items-center\">\n      <input\n        type=\"checkbox\"\n        id={`request-${props.number}`}\n        disabled={!props.active}\n        onChange={handleChange}\n        className={`\n          appearance-none w-5 h-5 border rounded\n          ${!props.active ? 'border-gray-300 bg-gray-100 cursor-not-allowed' : 'border-blue-500 cursor-pointer'}\n          checked:bg-blue-600 checked:border-blue-600\n          focus:outline-none focus:ring-2 focus:ring-blue-500/30\n          transition-colors\n        `}\n      />\n      <svg \n        className=\"absolute left-0.5 top-0.5 w-4 h-4 text-white pointer-events-none opacity-0 peer-checked:opacity-100\"\n        fill=\"none\"\n        stroke=\"currentColor\"\n        viewBox=\"0 0 24 24\"\n        xmlns=\"http://www.w3.org/2000/svg\"\n      >\n        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"3\" d=\"M5 13l4 4L19 7\"></path>\n      </svg>\n      \n      {!props.active && (\n        <span className=\"ml-2 text-xs text-red-500 font-medium\">\n          Not available\n        </span>\n      )}\n    </div>\n  );\n};\n\nexport default Box;\n","import React, { useState } from 'react';\nimport Box from './Box';\n\n/**\n * IndividualConnection Component\n * Displays a card for each data connection request\n */\nfunction IndividualConnection(props) {\n  const [selected, setSelected] = useState(false);\n\n  const handleSelectionChange = (isSelected) => {\n    setSelected(isSelected);\n    props.onSelectionChange(isSelected);\n  };\n\n  // Get icon based on data type\n  const getDataTypeIcon = () => {\n    switch(props.title) {\n      case \"Profile\":\n        return (\n          <div className=\"w-8 h-8 rounded-full bg-blue-100 flex items-center justify-center\">\n            <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-4 w-4 text-blue-600\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\n              <path fillRule=\"evenodd\" d=\"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z\" clipRule=\"evenodd\" />\n            </svg>\n          </div>\n        );\n      case \"User Memories\":\n        return (\n          <div className=\"w-8 h-8 rounded-full bg-purple-100 flex items-center justify-center\">\n            <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-4 w-4 text-purple-600\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\n              <path d=\"M7 3a1 1 0 000 2h6a1 1 0 100-2H7zM4 7a1 1 0 011-1h10a1 1 0 110 2H5a1 1 0 01-1-1zM2 11a2 2 0 012-2h12a2 2 0 012 2v4a2 2 0 01-2 2H4a2 2 0 01-2-2v-4z\" />\n            </svg>\n          </div>\n        );\n      default:\n        return (\n          <div className=\"w-8 h-8 rounded-full bg-gray-100 flex items-center justify-center\">\n            <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-4 w-4 text-gray-600\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\n              <path fillRule=\"evenodd\" d=\"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-3a1 1 0 00-.867.5 1 1 0 11-1.731-1A3 3 0 0113 8a3.001 3.001 0 01-2 2.83V11a1 1 0 11-2 0v-1a1 1 0 011-1 1 1 0 100-2zm0 8a1 1 0 100-2 1 1 0 000 2z\" clipRule=\"evenodd\" />\n            </svg>\n          </div>\n        );\n    }\n  };\n\n  return (\n    <div className=\"bg-white rounded-xl shadow-sm hover:shadow-md transition-all overflow-hidden\">\n      <div className=\"p-5\">\n        <div className=\"flex items-start space-x-4\">\n          {getDataTypeIcon()}\n          <div className=\"flex-1\">\n            <div className=\"flex items-center justify-between\">\n              <h3 className=\"font-medium text-gray-800\">{props.title}</h3>\n              <Box\n                active={props.active}\n                onSelectionChange={handleSelectionChange}\n                changeGranted={props.changeGranted}\n                setSelected={setSelected}\n                number={props.number + 1}\n                type={\"Test\"}\n                title={props.title}\n              />\n            </div>\n            \n            {props.descriptions && (\n              <div className=\"mt-2\">\n                <p className=\"text-sm text-gray-600\">{props.descriptions}</p>\n              </div>\n            )}\n          </div>\n        </div>\n        \n        {props.rewards && (\n          <div className=\"mt-3 pt-3 border-t border-gray-100\">\n            <div className=\"flex items-center\">\n              <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-4 w-4 text-yellow-500 mr-2\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\n                <path fillRule=\"evenodd\" d=\"M5 2a1 1 0 011 1v1h1a1 1 0 010 2H6v1a1 1 0 01-2 0V6H3a1 1 0 010-2h1V3a1 1 0 011-1zm0 10a1 1 0 011 1v1h1a1 1 0 110 2H6v1a1 1 0 11-2 0v-1H3a1 1 0 110-2h1v-1a1 1 0 011-1zM12 2a1 1 0 01.967.744L14.146 7.2 17.5 9.134a1 1 0 010 1.732l-3.354 1.935-1.18 4.455a1 1 0 01-1.933 0L9.854 12.8 6.5 10.866a1 1 0 010-1.732l3.354-1.935 1.18-4.455A1 1 0 0112 2z\" clipRule=\"evenodd\" />\n              </svg>\n              <span className=\"text-xs text-gray-500\">Benefit: <span className=\"text-gray-700\">{props.rewards}</span></span>\n            </div>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n\nexport default IndividualConnection;\n","import React, { useState, useEffect, useRef } from 'react';\nimport UniversalOnboarding from '../components/UniversalOnboarding.jsx';\nimport IndividualConnection from './components/IndividualConnection';\nimport onairosLogo from './icons/onairos_logo.png';\n\n/**\n * DataRequestPage Component\n * Displays different data requests and handles user interactions\n */\nconst DataRequestPage = ({ requestData = {}, dataRequester = 'App', proofMode = false, domain = '', appIcon = '' }) => {\n  const [loading, setLoading] = useState(true);\n  const [activeModels, setActiveModels] = useState([]);\n  const [granted, setGranted] = useState(0);\n  const [allowSubmit, setAllowSubmit] = useState(false);\n  const [userConnections, setUserConnections] = useState(['instagram', 'youtube', 'email']);\n  const [selectedRequests, setSelectedRequests] = useState({});\n  const selectedConnections = useRef([]);\n  const userSub = useRef(null);\n  const encryptedUserPin = useRef(null);\n\n  // Update allowSubmit when granted changes\n  useEffect(() => {\n    if (granted > 0) {\n      setAllowSubmit(true);\n    } else {\n      setAllowSubmit(false);\n    }\n  }, [granted]);\n\n  // Simulate loading data\n  useEffect(() => {\n    // In a real implementation, this would fetch active models from a service\n    const loadData = async () => {\n      try {\n        // Simulate API call\n        await new Promise(resolve => setTimeout(resolve, 1000));\n        \n        // Sample active models - this would come from your backend\n        setActiveModels(['Profile', 'User Memories']);\n        setLoading(false);\n      } catch (error) {\n        console.error('Error loading data:', error);\n        setLoading(false);\n      }\n    };\n    \n    loadData();\n\n    // Message handler to receive data from parent window\n    const handleMessage = (event) => {\n      if (event.data && event.data.type === 'dataRequest') {\n        // Process received data\n        if (event.data.requestData) {\n          // Update request data state\n        }\n        if (event.data.activeModels) {\n          setActiveModels(event.data.activeModels);\n        }\n        if (event.data.userSub) {\n          userSub.current = event.data.userSub;\n        }\n        if (event.data.encryptedUserPin) {\n          encryptedUserPin.current = event.data.encryptedUserPin;\n        }\n      }\n    };\n\n    // Add message listener\n    window.addEventListener('message', handleMessage);\n    \n    // Clean up listener\n    return () => {\n      window.removeEventListener('message', handleMessage);\n    };\n  }, []);\n\n  /**\n   * Reject all data requests\n   */\n  async function rejectDataRequest() {\n    window.top.postMessage({type: 'closeIframe'}, '*');\n    window.postMessage({type: 'closeIframe'}, '*');\n  }\n\n  /**\n   * Send the selected data requests to the parent window\n   */\n  async function sendDataRequest() {\n    if (granted === 0) {\n      window.close();\n      return;\n    } else {\n      const SignMessage = {\n        message: 'Confirm ' + dataRequester + ' Data Access',\n        confirmations: selectedConnections.current\n      };\n      \n      // Send simplified response\n      try {\n        window.top.postMessage({\n          type: 'dataRequestComplete',\n          approved: selectedConnections.current,\n          message: SignMessage\n        }, '*');\n        \n        window.postMessage({\n          type: 'dataRequestComplete',\n          approved: selectedConnections.current,\n          message: SignMessage\n        }, '*');\n      } catch (error) {\n        console.error(\"Error sending data request:\", error);\n        window.close();\n      }\n    }\n  }\n\n  /**\n   * Update the granted count\n   */\n  function changeGranted(plusMinus) {\n    setGranted(granted + plusMinus);\n  }\n\n  /**\n   * Handle selection of a connection/data request\n   */\n  function handleConnectionSelection(dataRequester, modelType, index, title, reward, isSelected) {\n    const newDate = new Date();\n    const newConnection = {\n      requester: dataRequester,\n      date: newDate.toISOString(),\n      name: title,\n      reward: reward,\n      data: modelType\n    };\n\n    if (isSelected) {\n      console.log(`Adding connection: ${JSON.stringify(newConnection)}`);\n      if (!selectedConnections.current.find(connection => connection.requester === dataRequester && connection.data === modelType)) {\n        selectedConnections.current.push(newConnection);\n      }\n    } else {\n      console.log(`Removing connection for: ${modelType}`);\n      selectedConnections.current = selectedConnections.current.filter(\n        connection => !(connection.requester === dataRequester && connection.data === modelType)\n      );\n    }\n\n    console.log('Current selected connections:', selectedConnections.current);\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gray-100\">\n      {loading ? (\n        <div className=\"flex items-center justify-center min-h-screen\">\n          <div className=\"animate-spin h-8 w-8 border-2 border-blue-600 rounded-full border-t-transparent\"></div>\n        </div>\n      ) : activeModels.length === 0 ? (\n        <UniversalOnboarding \n          appIcon=\"https://onairos.sirv.com/Images/OnairosBlack.png\" \n          appName={dataRequester}\n          username={localStorage.getItem(\"username\")}\n        />\n      ) : (\n        <div className=\"max-w-md mx-auto p-6 space-y-4\">\n          <header className=\"bg-white p-6 rounded-xl shadow-md\">\n            <div className=\"flex items-center justify-between mb-6\">\n              <div className=\"flex items-center space-x-2\">\n                <img src={onairosLogo} alt=\"Onairos Logo\" className=\"w-8 h-8\" />\n                <div className=\"text-gray-400 mx-2\">â†’</div>\n                {appIcon ? (\n                  <img src={appIcon} alt={`${dataRequester} Logo`} className=\"w-8 h-8 rounded-full\" />\n                ) : (\n                  <div className=\"w-8 h-8 bg-gray-200 rounded-full flex items-center justify-center\">\n                    <span className=\"text-gray-600 text-xs font-bold\">{dataRequester.charAt(0)}</span>\n                  </div>\n                )}\n              </div>\n              <h2 className=\"text-lg font-bold text-gray-800\">{dataRequester}</h2>\n            </div>\n            \n            <h1 className=\"text-xl font-bold text-gray-800 mb-4\">Data Access Request</h1>\n            <p className=\"text-gray-600 mb-6\">Select the data you want to share with {dataRequester}</p>\n            \n            <div className=\"flex items-center justify-between gap-4\">\n              <button\n                onClick={rejectDataRequest}\n                className=\"border w-full border border-gray-300 hover:bg-gray-50 text-gray-700 font-medium py-3 px-4 rounded-lg transition-colors\"\n              >\n                Decline\n              </button>\n              <button\n                disabled={!allowSubmit}\n                onClick={sendDataRequest}\n                className=\"w-full bg-blue-600 hover:bg-blue-700 text-white font-medium py-3 px-4 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed\"\n              >\n                Approve {granted > 0 && `(${granted})`}\n              </button>\n            </div>\n          </header>\n\n          <div className=\"space-y-3\">\n            {/* Only show Profile and User Memories */}\n            {['Profile', 'User Memories'].map((dataType, index) => {\n              const key = dataType.toLowerCase().replace(' ', '_');\n              const product = {\n                type: dataType,\n                descriptions: dataType === 'Profile' ? \n                  'Basic profile information and preferences' : \n                  'Your personal context and memory data',\n                reward: dataType === 'Profile' ? \n                  'Personalized experience' : \n                  'Contextual understanding of your preferences'\n              };\n              \n              return (\n                <IndividualConnection\n                  key={key}\n                  active={true}\n                  title={product.type}\n                  id={product}\n                  number={index}\n                  descriptions={product.descriptions}\n                  rewards={product.reward}\n                  size={key}\n                  changeGranted={changeGranted}\n                  onSelectionChange={(isSelected) =>\n                    handleConnectionSelection(dataRequester, key, index, product.type, product.reward, isSelected)\n                  }\n                />\n              );\n            })}\n            \n            {/* User Connections Section */}\n            <div className=\"bg-white p-4 rounded-xl shadow-sm mt-4\">\n              <h3 className=\"text-sm font-semibold text-gray-700 mb-3\">Your Connected Services</h3>\n              <div className=\"flex items-center space-x-3\">\n                {userConnections.map((connection, index) => {\n                  const getConnectionIcon = (type) => {\n                    switch(type) {\n                      case 'instagram':\n                        return (\n                          <div className=\"w-10 h-10 rounded-full bg-linear-to-tr from-purple-500 via-pink-500 to-yellow-500 flex items-center justify-center\">\n                            <span className=\"text-white text-xs\">IG</span>\n                          </div>\n                        );\n                      case 'youtube':\n                        return (\n                          <div className=\"w-10 h-10 rounded-full bg-red-600 flex items-center justify-center\">\n                            <span className=\"text-white text-xs\">YT</span>\n                          </div>\n                        );\n                      case 'email':\n                        return (\n                          <div className=\"w-10 h-10 rounded-full bg-blue-500 flex items-center justify-center\">\n                            <span className=\"text-white text-xs\">@</span>\n                          </div>\n                        );\n                      default:\n                        return (\n                          <div className=\"w-10 h-10 rounded-full bg-gray-200 flex items-center justify-center\">\n                            <span className=\"text-gray-600 text-xs\">{type.charAt(0).toUpperCase()}</span>\n                          </div>\n                        );\n                    }\n                  };\n                  \n                  return (\n                    <div key={index} className=\"flex flex-col items-center\">\n                      {getConnectionIcon(connection)}\n                      <span className=\"text-xs text-gray-600 mt-1\">{connection}</span>\n                    </div>\n                  );\n                })}\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default DataRequestPage;\n","import React from 'react';\nimport ReactDOM from 'react-dom/client';\nimport DataRequestPage from './DataRequestPage.jsx';\n\n// Global variables to store data from parent window\nlet proofMode = false;\nlet domain = '';\nlet userSub = null;\nlet encryptedUserPin = null;\n\n// Handle messages from the parent window\nwindow.addEventListener('message', (event) => {\n  // Verify the sender origin if needed\n  // if (event.origin !== 'expected-origin') return;\n  \n  if (event.data && event.data.source === 'onairosButton') {\n    proofMode = event.data.proofMode || false;\n    domain = event.data.domain || '';\n    userSub = event.data.userSub || null;\n    encryptedUserPin = event.data.encryptedUserPin || null;\n    \n    // Re-render with the new data\n    renderApp();\n  }\n});\n\n// Notify the parent window that the iframe is ready\nwindow.parent.postMessage({\n  source: 'onairosIframe',\n  action: 'iframeReady'\n}, '*');\n\n// Function to render the React app\nfunction renderApp() {\n  const root = ReactDOM.createRoot(document.getElementById('root'));\n  root.render(\n    <DataRequestPage \n      proofMode={proofMode}\n      domain={domain}\n      userSub={userSub}\n      encryptedUserPin={encryptedUserPin}\n    />\n  );\n}\n\n// Initial render\nrenderApp();\n"],"names":["root","factory","exports","module","require","define","amd","this","__WEBPACK_EXTERNAL_MODULE__156__","__WEBPACK_EXTERNAL_MODULE__318__","m","createRoot","hydrateRoot","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","__webpack_modules__","n","getter","__esModule","d","a","definition","key","o","Object","defineProperty","enumerable","get","g","globalThis","Function","e","window","obj","prop","prototype","hasOwnProperty","call","scriptUrl","importScripts","location","document","currentScript","tagName","toUpperCase","src","scripts","getElementsByTagName","length","i","test","Error","replace","p","platforms","name","icon","color","connector","sdkConfig","apiKey","process","env","REACT_APP_ONAIROS_API_KEY","baseUrl","REACT_APP_ONAIROS_BASE_URL","sdkType","enableHealthMonitoring","enableAutoRefresh","enableConnectionValidation","UniversalOnboarding","_ref","onComplete","appIcon","appName","connectedAccounts","setConnectedAccounts","useState","isConnecting","setIsConnecting","connectingPlatform","setConnectingPlatform","connectionErrors","setConnectionErrors","connectionHealth","setConnectionHealth","healthScore","setHealthScore","useEffect","handleOAuthReturn","platform","localStorage","getItem","console","log","concat","removeItem","prev","_objectSpread","connectToPlatform","async","platformName","find","error","_localStorage$getItem","username","email","authorizeUrl","response","fetch","method","headers","body","JSON","stringify","session","ok","status","statusText","responseData","json","possibleKeys","oauthUrl","usedKey","keys","join","navigator","userAgent","innerWidth","setItem","href","popup","open","hasNavigatedToOnairos","checkInterval","setInterval","hostname","close","closed","clearInterval","successFlag","errorFlag","timestamp","isRecentSignal","Date","now","parseInt","setTimeout","message","handleToggle","connectedCount","values","filter","Boolean","React","className","alt","fill","stroke","viewBox","strokeLinecap","strokeLinejoin","strokeWidth","slice","map","isConnected","isCurrentlyConnecting","hasError","isDisabled","onClick","fillRule","clipRule","stopPropagation","disabled","handleContinue","connected","entries","_ref2","_ref3","totalConnections","sdkVersion","enhancedFeatures","healthMonitoring","autoRefresh","connectionValidation","props","type","id","number","active","onChange","checked","target","title","setSelected","changeGranted","onSelectionChange","xmlns","selected","getDataTypeIcon","Box","isSelected","descriptions","rewards","requestData","dataRequester","proofMode","domain","loading","setLoading","activeModels","setActiveModels","granted","setGranted","allowSubmit","setAllowSubmit","userConnections","setUserConnections","selectedRequests","setSelectedRequests","selectedConnections","useRef","userSub","encryptedUserPin","plusMinus","Promise","resolve","loadData","handleMessage","event","data","current","addEventListener","removeEventListener","onairosLogo","charAt","top","postMessage","SignMessage","confirmations","approved","dataType","index","toLowerCase","product","reward","IndividualConnection","size","modelType","newDate","newConnection","requester","date","toISOString","connection","push","handleConnectionSelection","getConnectionIcon","renderApp","ReactDOM","getElementById","render","DataRequestPage","source","parent","action"],"sourceRoot":""}