!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("react")):"function"==typeof define&&define.amd?define("Onairos",["React"],t):"object"==typeof exports?exports.Onairos=t(require("react")):e.Onairos=t(e.React)}(this,(e=>(()=>{"use strict";var t={639:t=>{t.exports=e}},r={};function a(e){var l=r[e];if(void 0!==l)return l.exports;var n=r[e]={exports:{}};return t[e](n,n.exports,a),n.exports}a.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return a.d(t,{a:t}),t},a.d=(e,t)=>{for(var r in t)a.o(t,r)&&!a.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),a.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var l={};return(()=>{a.r(l),a.d(l,{Onairos:()=>z,default:()=>F});var e=a(639),t=a.n(e);const r=e=>{const t=(e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,((e,t,r)=>r?r.toUpperCase():t.toLowerCase())))(e);return t.charAt(0).toUpperCase()+t.slice(1)},n=(...e)=>e.filter(((e,t,r)=>Boolean(e)&&""!==e.trim()&&r.indexOf(e)===t)).join(" ").trim(),s=e=>{for(const t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0};var c={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const o=(0,e.forwardRef)((({color:t="currentColor",size:r=24,strokeWidth:a=2,absoluteStrokeWidth:l,className:o="",children:i,iconNode:m,...d},u)=>(0,e.createElement)("svg",{ref:u,...c,width:r,height:r,stroke:t,strokeWidth:l?24*Number(a)/Number(r):a,className:n("lucide",o),...!i&&!s(d)&&{"aria-hidden":"true"},...d},[...m.map((([t,r])=>(0,e.createElement)(t,r))),...Array.isArray(i)?i:[i]]))),i=(t,a)=>{const l=(0,e.forwardRef)((({className:l,...s},c)=>{return(0,e.createElement)(o,{ref:c,iconNode:a,className:n(`lucide-${i=r(t),i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,`lucide-${t}`,l),...s});var i}));return l.displayName=r(t),l},m=i("mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),d=i("arrow-right",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),u=i("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);function p(r){let{onSuccess:a,testMode:l=!0}=r;const[n,s]=(0,e.useState)(""),[c,o]=(0,e.useState)(""),[i,p]=(0,e.useState)("email"),[f,b]=(0,e.useState)(!1),[g,x]=(0,e.useState)(""),y=async e=>{if(e.preventDefault(),x(""),(e=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e))(n)){b(!0);try{if(l)setTimeout((()=>{p("code"),b(!1)}),1e3);else{if(!(await fetch("https://api2.onairos.uk/auth/send-code",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:n})})).ok)throw new Error("Failed to send verification code");p("code"),b(!1)}}catch(e){x(e.message),b(!1)}}else x("Please enter a valid email address")},h=async e=>{if(e.preventDefault(),x(""),l&&"123456"===c)return p("success"),void setTimeout((()=>{a({email:n,verified:!0})}),1e3);if(l)x("Invalid code. Use 123456 for testing.");else{b(!0);try{const e=await fetch("https://api2.onairos.uk/auth/verify-code",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:n,code:c})});if(!e.ok)throw new Error("Invalid verification code");const t=await e.json();p("success"),setTimeout((()=>{a({email:n,verified:!0,token:t.token})}),1e3)}catch(e){x(e.message),b(!1)}}};return t().createElement("div",{className:"flex flex-col items-center space-y-6 p-6 w-full"},"email"===i&&t().createElement("div",{className:"flex flex-col items-center space-y-6 w-full"},t().createElement("div",{className:"flex items-center justify-center w-16 h-16 bg-blue-100 rounded-full"},t().createElement(m,{className:"w-8 h-8 text-blue-600"})),t().createElement("div",{className:"text-center"},t().createElement("h2",{className:"text-xl font-semibold text-gray-900 mb-2"},"Sign in to Onairos"),t().createElement("p",{className:"text-gray-600"},"Enter your email address to continue"),l&&t().createElement("p",{className:"text-sm text-blue-600 mt-2"},"Test mode: Any valid email will work")),t().createElement("form",{onSubmit:y,className:"w-full max-w-md space-y-4"},t().createElement("div",null,t().createElement("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1"},"Email address"),t().createElement("input",{type:"email",id:"email",value:n,onChange:e=>s(e.target.value),placeholder:"Enter your email",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none",required:!0})),g&&t().createElement("p",{className:"text-sm text-red-600"},g),t().createElement("button",{type:"submit",disabled:f,className:"w-full py-3 px-4 bg-blue-600 text-white rounded-lg font-semibold hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center"},f?t().createElement("div",{className:"animate-spin h-5 w-5 border-2 border-white rounded-full border-t-transparent"}):t().createElement(t().Fragment,null,"Continue",t().createElement(d,{className:"ml-2 w-4 h-4"}))))),"code"===i&&t().createElement("div",{className:"flex flex-col items-center space-y-6 w-full"},t().createElement("div",{className:"flex items-center justify-center w-16 h-16 bg-green-100 rounded-full"},t().createElement(m,{className:"w-8 h-8 text-green-600"})),t().createElement("div",{className:"text-center"},t().createElement("h2",{className:"text-xl font-semibold text-gray-900 mb-2"},"Check your email"),t().createElement("p",{className:"text-gray-600"},"We sent a verification code to"),t().createElement("p",{className:"text-gray-900 font-medium"},n),l&&t().createElement("p",{className:"text-sm text-blue-600 mt-2"},"Test mode: Use code 123456")),t().createElement("form",{onSubmit:h,className:"w-full max-w-md space-y-4"},t().createElement("div",null,t().createElement("label",{htmlFor:"code",className:"block text-sm font-medium text-gray-700 mb-1"},"Verification code"),t().createElement("input",{type:"text",id:"code",value:c,onChange:e=>o(e.target.value),placeholder:"Enter 6-digit code",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none text-center text-lg tracking-widest",maxLength:"6",required:!0})),g&&t().createElement("p",{className:"text-sm text-red-600"},g),t().createElement("button",{type:"submit",disabled:f,className:"w-full py-3 px-4 bg-blue-600 text-white rounded-lg font-semibold hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center"},f?t().createElement("div",{className:"animate-spin h-5 w-5 border-2 border-white rounded-full border-t-transparent"}):"Verify Code"),t().createElement("button",{type:"button",onClick:()=>p("email"),className:"w-full py-2 px-4 text-gray-600 hover:text-gray-800"},"Use a different email"))),"success"===i&&t().createElement("div",{className:"flex flex-col items-center space-y-6 w-full"},t().createElement("div",{className:"flex items-center justify-center w-16 h-16 bg-green-100 rounded-full"},t().createElement(u,{className:"w-8 h-8 text-green-600"})),t().createElement("div",{className:"text-center"},t().createElement("h2",{className:"text-xl font-semibold text-gray-900 mb-2"},"Email verified!"),t().createElement("p",{className:"text-gray-600"},"Setting up your account...")),t().createElement("div",{className:"w-8 h-8"},t().createElement("div",{className:"animate-spin h-8 w-8 border-2 border-blue-600 rounded-full border-t-transparent"}))))}const f=i("shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]),b=i("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),g=i("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),x=i("send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]),y=i("external-link",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);function h(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function E(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?h(Object(r),!0).forEach((function(t){N(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function N(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const v=[{name:"YouTube",icon:"https://onairos.sirv.com/Images/youtube-icon.png",connected:!1,color:"#FF0000"},{name:"Reddit",icon:"https://onairos.sirv.com/Images/reddit-icon.png",connected:!1,color:"#FF4500"},{name:"Instagram",icon:"https://onairos.sirv.com/Images/instagram-icon.png",connected:!1,color:"#E1306C"},{name:"Pinterest",icon:"https://onairos.sirv.com/Images/pinterest-icon.png",connected:!1,color:"#E60023"},{name:"TikTok",icon:"https://onairos.sirv.com/Images/tiktok-icon.png",connected:!1,color:"#000000"}],w={CONNECT:"connect",PASSPHRASE:"passphrase",CONFIRM:"confirm",UNIFYING:"unifying"};function O(r){let{onComplete:a,appIcon:l}=r;const[n,s]=(0,e.useState)(v),[c,o]=(0,e.useState)(w.CONNECT),[i,m]=(0,e.useState)(0),[d,p]=(0,e.useState)(""),[h,N]=(0,e.useState)(""),[O,k]=(0,e.useState)(!1);(0,e.useEffect)((()=>{const e=e=>{e.data&&e.data.platform&&"success"===e.data.status&&s(n.map((t=>t.name.toLowerCase()===e.data.platform.toLowerCase()?E(E({},t),{},{connected:!0}):t)))};return window.addEventListener("message",e),()=>window.removeEventListener("message",e)}),[n]),(0,e.useEffect)((()=>{if(c===w.UNIFYING){const e=setInterval((()=>{m((t=>t>=100?(clearInterval(e),a(),100):t+2))}),100);return()=>clearInterval(e)}}),[c,a]);const S=()=>{n.some((e=>e.connected))&&o(w.PASSPHRASE)},C=()=>{(!d||d.length<8?(N("Passphrase must be at least 8 characters"),0):(N(""),1))&&o(w.CONFIRM)},j=async()=>{o(w.UNIFYING);try{if(!(await fetch("https://api2.onairos.uk/unify",{method:"POST",headers:{Authorization:"Bearer ".concat(localStorage.getItem("onairosToken")),"Content-Type":"application/json"},body:JSON.stringify({platforms:n.filter((e=>e.connected)).map((e=>e.name.toLowerCase())),passphrase:d})})).ok)throw new Error("Failed to unify data")}catch(e){console.error("Failed to unify data:",e)}};return t().createElement("div",{className:"flex flex-col items-center space-y-6 p-6 w-full"},c===w.CONNECT&&t().createElement("div",{className:"flex flex-col items-center space-y-6 w-full"},t().createElement("h2",{className:"text-xl font-semibold text-gray-900"},"Connect Your Accounts"),t().createElement("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 w-full max-w-md"},t().createElement("div",{className:"flex items-start"},t().createElement(f,{className:"text-blue-500 mr-2 flex-shrink-0 mt-0.5",size:20}),t().createElement("p",{className:"text-sm text-blue-700"},"Your data is never shared with anyone. It's only used to train your personal model and is stored securely."))),t().createElement("div",{className:"grid grid-cols-2 gap-4 w-full max-w-md"},n.map((e=>t().createElement("button",{key:e.name,onClick:()=>(async e=>{try{k(!0),setTimeout((()=>{s(n.map((t=>t.name===e?E(E({},t),{},{connected:!0}):t))),k(!1)}),1e3)}catch(t){console.error("Failed to connect to ".concat(e,":"),t),k(!1)}})(e.name),disabled:O||e.connected,className:"flex flex-col items-center justify-center p-4 rounded-lg border transition-all ".concat(e.connected?"bg-green-50 border-green-500":"border-gray-300 hover:border-blue-500 hover:shadow-sm")},t().createElement("div",{className:"relative"},t().createElement("img",{src:e.icon,alt:e.name,className:"w-10 h-10 mb-2"}),e.connected&&t().createElement("div",{className:"absolute -top-1 -right-1 bg-green-500 rounded-full p-0.5"},t().createElement(u,{size:14,className:"text-white"}))),t().createElement("span",{className:"text-sm ".concat(e.connected?"text-green-600":"text-gray-700")},e.connected?"Connected":"Connect"))))),t().createElement("button",{onClick:S,disabled:!n.some((e=>e.connected)),className:"w-full max-w-md py-3 px-4 rounded-lg font-semibold transition-all ".concat(n.some((e=>e.connected))?"bg-blue-500 text-white hover:bg-blue-600":"bg-gray-300 text-gray-500 cursor-not-allowed")},"Continue"),t().createElement("p",{className:"text-xs text-gray-500 max-w-md text-center"},"Connect at least one account to create your personalized AI model")),c===w.PASSPHRASE&&t().createElement("div",{className:"flex flex-col items-center space-y-6 w-full"},t().createElement("h2",{className:"text-xl font-semibold text-gray-900"},"Create Your Secure Passphrase"),t().createElement("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 w-full max-w-md"},t().createElement("div",{className:"flex items-start"},t().createElement(b,{className:"text-blue-500 mr-2 flex-shrink-0 mt-0.5",size:20}),t().createElement("p",{className:"text-sm text-blue-700"},"Your passphrase is used to secure your model. We don't store it, so please remember it for future access."))),t().createElement("div",{className:"w-full max-w-md"},t().createElement("label",{htmlFor:"passphrase",className:"block text-sm font-medium text-gray-700 mb-1"},"8+ Character Passphrase"),t().createElement("input",{type:"password",id:"passphrase",value:d,onChange:e=>p(e.target.value),placeholder:"Enter your secure passphrase",className:"w-full p-3 border ".concat(h?"border-red-500":"border-gray-300"," rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none")}),h&&t().createElement("p",{className:"mt-1 text-sm text-red-600 flex items-center"},t().createElement(g,{size:14,className:"mr-1"})," ",h)),t().createElement("div",{className:"flex space-x-3 w-full max-w-md"},t().createElement("button",{onClick:()=>o(w.CONNECT),className:"flex-1 py-3 px-4 border border-gray-300 rounded-lg font-semibold text-gray-700 hover:bg-gray-50"},"Back"),t().createElement("button",{onClick:C,className:"flex-1 py-3 px-4 bg-blue-500 rounded-lg font-semibold text-white hover:bg-blue-600"},"Continue"))),c===w.CONFIRM&&t().createElement("div",{className:"flex flex-col items-center space-y-6 w-full"},t().createElement("h2",{className:"text-xl font-semibold text-gray-900"},"Confirm Data Transfer"),t().createElement("div",{className:"flex justify-center items-center w-full max-w-md py-8"},t().createElement("div",{className:"relative flex items-center"},t().createElement("div",{className:"p-3 bg-gray-100 rounded-full"},t().createElement("img",{src:l||"https://onairos.sirv.com/Images/onairos-icon.png",alt:"App",className:"w-16 h-16 rounded-full"})),t().createElement("div",{className:"mx-4 animate-pulse"},t().createElement(x,{size:24,className:"text-blue-500"})),t().createElement("div",{className:"p-3 bg-blue-100 rounded-full"},t().createElement("img",{src:"https://onairos.sirv.com/Images/onairos-icon.png",alt:"Onairos",className:"w-16 h-16 rounded-full"})))),t().createElement("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 w-full max-w-md"},t().createElement("p",{className:"text-sm text-blue-700"},"You're about to securely send your data to Onairos to train your personal AI model. Your data is end-to-end encrypted with your passphrase and never shared with anyone.")),t().createElement("div",{className:"w-full max-w-md"},t().createElement("h3",{className:"font-medium text-gray-700 mb-2"},"Connected platforms:"),t().createElement("div",{className:"flex flex-wrap gap-2"},n.filter((e=>e.connected)).map((e=>t().createElement("div",{key:e.name,className:"flex items-center bg-green-50 border border-green-200 rounded-full px-3 py-1"},t().createElement("img",{src:e.icon,alt:e.name,className:"w-4 h-4 mr-1"}),t().createElement("span",{className:"text-sm text-green-700"},e.name)))))),t().createElement("div",{className:"flex space-x-3 w-full max-w-md"},t().createElement("button",{onClick:()=>o(w.PASSPHRASE),className:"flex-1 py-3 px-4 border border-gray-300 rounded-lg font-semibold text-gray-700 hover:bg-gray-50"},"Back"),t().createElement("button",{onClick:j,className:"flex-1 py-3 px-4 bg-blue-500 rounded-lg font-semibold text-white hover:bg-blue-600"},"Confirm & Create Model")),t().createElement("p",{className:"text-xs text-gray-500 max-w-md text-center"},"By proceeding, you agree to Onairos' ",t().createElement("a",{href:"https://onairos.uk/privacy",target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 underline flex items-center inline-flex"},"Privacy Policy ",t().createElement(y,{size:12,className:"ml-0.5"})))),c===w.UNIFYING&&t().createElement("div",{className:"flex flex-col items-center justify-center space-y-6 p-6"},t().createElement("h2",{className:"text-xl font-semibold text-gray-900"},"Creating Your Personal AI Model"),t().createElement("p",{className:"text-gray-600 text-center"},"Please wait while we securely process your information"),t().createElement("div",{className:"w-full max-w-md"},t().createElement("div",{className:"relative pt-1"},t().createElement("div",{className:"flex mb-2 items-center justify-between"},t().createElement("div",null,t().createElement("span",{className:"text-xs font-semibold inline-block py-1 px-2 uppercase rounded-full text-blue-600 bg-blue-200"},"Progress")),t().createElement("div",{className:"text-right"},t().createElement("span",{className:"text-xs font-semibold inline-block text-blue-600"},i,"%"))),t().createElement("div",{className:"overflow-hidden h-2 mb-4 text-xs flex rounded bg-blue-200"},t().createElement("div",{style:{width:"".concat(i,"%")},className:"shadow-none flex flex-col text-center whitespace-nowrap text-white justify-center bg-blue-500 transition-all duration-500"})))),t().createElement("div",{className:"w-12 h-12 animate-spin"},t().createElement("svg",{className:"w-full h-full text-blue-500",viewBox:"0 0 24 24"},t().createElement("path",{fill:"currentColor",d:"M12,4V2A10,10 0 0,0 2,12H4A8,8 0 0,1 12,4Z"}))),t().createElement("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 w-full max-w-md"},t().createElement("p",{className:"text-sm text-blue-700"},"Your data is being encrypted with your passphrase and securely processed. This may take a few minutes."))))}function k(r){let{onComplete:a,userEmail:l}=r;const[n,s]=(0,e.useState)(""),[c,o]=(0,e.useState)(""),[i,m]=(0,e.useState)("create"),[d,p]=(0,e.useState)(""),[f,x]=(0,e.useState)({length:!1,number:!1,uppercase:!1,lowercase:!1});(0,e.useEffect)((()=>{x({length:n.length>=6,number:/[0-9]/.test(n),uppercase:/[A-Z]/.test(n),lowercase:/[a-z]/.test(n)})}),[n]);const y=Object.values(f).every((e=>e)),h=e=>{e.preventDefault(),p(""),y?m("confirm"):p("Please meet all PIN requirements")},E=e=>{e.preventDefault(),p(""),n===c?(m("success"),setTimeout((()=>{a({pin:n,email:l,pinCreated:!0})}),1500)):p("PINs do not match")};return t().createElement("div",{className:"flex flex-col items-center space-y-6 p-6 w-full"},"create"===i&&t().createElement("div",{className:"flex flex-col items-center space-y-6 w-full"},t().createElement("div",{className:"flex items-center justify-center w-16 h-16 bg-blue-100 rounded-full"},t().createElement(b,{className:"w-8 h-8 text-blue-600"})),t().createElement("div",{className:"text-center"},t().createElement("h2",{className:"text-xl font-semibold text-gray-900 mb-2"},"Create Your PIN"),t().createElement("p",{className:"text-gray-600"},"Your PIN secures your Onairos account")),t().createElement("form",{onSubmit:h,className:"w-full max-w-md space-y-4"},t().createElement("div",null,t().createElement("label",{htmlFor:"pin",className:"block text-sm font-medium text-gray-700 mb-1"},"Create PIN"),t().createElement("input",{type:"password",id:"pin",value:n,onChange:e=>s(e.target.value),placeholder:"Enter your PIN",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none",required:!0})),t().createElement("div",{className:"space-y-2"},t().createElement("p",{className:"text-sm font-medium text-gray-700"},"PIN Requirements:"),Object.entries(f).map((e=>{let[r,a]=e;return t().createElement("div",{key:r,className:"flex items-center"},t().createElement("div",{className:"w-4 h-4 rounded-full mr-2 flex items-center justify-center ".concat(a?"bg-green-500":"bg-gray-300")},a&&t().createElement(u,{size:12,className:"text-white"})),t().createElement("span",{className:"text-sm ".concat(a?"text-green-600":"text-gray-600")},"length"===r?"At least 6 characters":"number"===r?"One number":"uppercase"===r?"One uppercase letter":"One lowercase letter"))}))),d&&t().createElement("div",{className:"flex items-center text-red-600 text-sm"},t().createElement(g,{size:16,className:"mr-1"}),d),t().createElement("button",{type:"submit",disabled:!y,className:"w-full py-3 px-4 rounded-lg font-semibold ".concat(y?"bg-blue-600 text-white hover:bg-blue-700":"bg-gray-300 text-gray-500 cursor-not-allowed")},"Continue"))),"confirm"===i&&t().createElement("div",{className:"flex flex-col items-center space-y-6 w-full"},t().createElement("div",{className:"flex items-center justify-center w-16 h-16 bg-orange-100 rounded-full"},t().createElement(b,{className:"w-8 h-8 text-orange-600"})),t().createElement("div",{className:"text-center"},t().createElement("h2",{className:"text-xl font-semibold text-gray-900 mb-2"},"Confirm Your PIN"),t().createElement("p",{className:"text-gray-600"},"Enter your PIN again to confirm")),t().createElement("form",{onSubmit:E,className:"w-full max-w-md space-y-4"},t().createElement("div",null,t().createElement("label",{htmlFor:"confirmPin",className:"block text-sm font-medium text-gray-700 mb-1"},"Confirm PIN"),t().createElement("input",{type:"password",id:"confirmPin",value:c,onChange:e=>o(e.target.value),placeholder:"Re-enter your PIN",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none",required:!0})),d&&t().createElement("div",{className:"flex items-center text-red-600 text-sm"},t().createElement(g,{size:16,className:"mr-1"}),d),t().createElement("div",{className:"flex space-x-3"},t().createElement("button",{type:"button",onClick:()=>{m("create"),o(""),p("")},className:"flex-1 py-3 px-4 border border-gray-300 rounded-lg font-semibold text-gray-700 hover:bg-gray-50"},"Back"),t().createElement("button",{type:"submit",className:"flex-1 py-3 px-4 bg-blue-600 text-white rounded-lg font-semibold hover:bg-blue-700"},"Create PIN")))),"success"===i&&t().createElement("div",{className:"flex flex-col items-center space-y-6 w-full"},t().createElement("div",{className:"flex items-center justify-center w-16 h-16 bg-green-100 rounded-full"},t().createElement(u,{className:"w-8 h-8 text-green-600"})),t().createElement("div",{className:"text-center"},t().createElement("h2",{className:"text-xl font-semibold text-gray-900 mb-2"},"PIN Created!"),t().createElement("p",{className:"text-gray-600"},"Your account is now secure")),t().createElement("div",{className:"w-8 h-8"},t().createElement("div",{className:"animate-spin h-8 w-8 border-2 border-blue-600 rounded-full border-t-transparent"}))))}const S=i("database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]),C=i("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function j(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function P(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?j(Object(r),!0).forEach((function(t){I(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function I(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function q(r){let{onComplete:a,userEmail:l,requestData:n}=r;const[s,c]=(0,e.useState)({}),[o,i]=(0,e.useState)(!1),m=(null==n?void 0:n.dataTypes)||[{id:"basic",name:"Basic Profile",description:"Name, email, and basic preferences",required:!0},{id:"preferences",name:"User Preferences",description:"App settings and customization preferences",required:!1},{id:"usage",name:"Usage Analytics",description:"How you interact with the application",required:!1}];return o?t().createElement("div",{className:"flex flex-col items-center space-y-6 p-6 w-full"},t().createElement("div",{className:"flex items-center justify-center w-16 h-16 bg-blue-100 rounded-full"},t().createElement(S,{className:"w-8 h-8 text-blue-600"})),t().createElement("div",{className:"text-center"},t().createElement("h2",{className:"text-xl font-semibold text-gray-900 mb-2"},"Processing Request"),t().createElement("p",{className:"text-gray-600"},"Setting up your data permissions...")),t().createElement("div",{className:"w-8 h-8"},t().createElement("div",{className:"animate-spin h-8 w-8 border-2 border-blue-600 rounded-full border-t-transparent"}))):t().createElement("div",{className:"flex flex-col items-center space-y-6 p-6 w-full"},t().createElement("div",{className:"flex items-center justify-center w-16 h-16 bg-green-100 rounded-full"},t().createElement(f,{className:"w-8 h-8 text-green-600"})),t().createElement("div",{className:"text-center"},t().createElement("h2",{className:"text-xl font-semibold text-gray-900 mb-2"},"Data Access Request"),t().createElement("p",{className:"text-gray-600"},"Choose what data you'd like to share"),t().createElement("p",{className:"text-sm text-gray-500 mt-1"},"Signed in as: ",l)),t().createElement("div",{className:"w-full max-w-md space-y-3"},m.map((e=>t().createElement("div",{key:e.id,className:"border rounded-lg p-4 ".concat(e.required?"border-blue-200 bg-blue-50":s[e.id]?"border-green-200 bg-green-50":"border-gray-200 bg-white")},t().createElement("div",{className:"flex items-start justify-between"},t().createElement("div",{className:"flex-1"},t().createElement("div",{className:"flex items-center"},t().createElement("h3",{className:"font-medium text-gray-900"},e.name),e.required&&t().createElement("span",{className:"ml-2 text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded"},"Required")),t().createElement("p",{className:"text-sm text-gray-600 mt-1"},e.description)),t().createElement("button",{onClick:()=>(e=>{const t=m.find((t=>t.id===e));null!=t&&t.required||c((t=>P(P({},t),{},{[e]:!t[e]})))})(e.id),disabled:e.required,className:"ml-3 w-6 h-6 rounded-full border-2 flex items-center justify-center ".concat(e.required||s[e.id]?"border-green-500 bg-green-500":"border-gray-300 bg-white hover:border-green-500"," ").concat(e.required?"cursor-default":"cursor-pointer")},(e.required||s[e.id])&&t().createElement(u,{size:14,className:"text-white"}))))))),t().createElement("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 w-full max-w-md"},t().createElement("div",{className:"flex items-start"},t().createElement(f,{className:"text-blue-500 mr-2 flex-shrink-0 mt-0.5",size:20}),t().createElement("div",null,t().createElement("p",{className:"text-sm text-blue-700 font-medium"},"Your data is secure"),t().createElement("p",{className:"text-xs text-blue-600 mt-1"},"We use industry-standard encryption and never share your data with third parties.")))),t().createElement("div",{className:"flex space-x-3 w-full max-w-md"},t().createElement("button",{onClick:()=>{a({approved:!1,email:l,timestamp:(new Date).toISOString()})},className:"flex-1 py-3 px-4 border border-gray-300 rounded-lg font-semibold text-gray-700 hover:bg-gray-50 flex items-center justify-center"},t().createElement(C,{size:16,className:"mr-1"}),"Deny"),t().createElement("button",{onClick:async()=>{i(!0);const e=m.filter((e=>e.required||s[e.id])).map((e=>e.id));setTimeout((()=>{a({approved:!0,dataTypes:e,email:l,timestamp:(new Date).toISOString()})}),2e3)},className:"flex-1 py-3 px-4 bg-blue-600 text-white rounded-lg font-semibold hover:bg-blue-700 flex items-center justify-center"},t().createElement(u,{size:16,className:"mr-1"}),"Approve")),t().createElement("p",{className:"text-xs text-gray-500 max-w-md text-center"},"You can change these permissions anytime in your account settings."))}function T(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function A(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?T(Object(r),!0).forEach((function(t){D(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):T(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function D(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function R(r){let{requestData:a,webpageName:l,inferenceData:n=null,onComplete:s=null,autoFetch:c=!0,proofMode:o=!1,textLayout:i="below",textColor:m="white",login:d=!1,buttonType:u="pill",loginReturn:f=null,loginType:b="signIn",visualType:g="full"}=r;const[x,y]=(0,e.useState)(!1),[h,E]=(0,e.useState)("email"),[N,v]=(0,e.useState)(null),[w,S]=(0,e.useState)(!1),[C,j]=(0,e.useState)(null);(0,e.useEffect)((()=>{(()=>{const e=localStorage.getItem("onairosUser");if(e)try{const t=JSON.parse(e);v(t),t.onboardingComplete&&t.pinCreated?E("dataRequest"):t.verified&&!t.onboardingComplete?E("onboarding"):t.onboardingComplete&&!t.pinCreated&&E("pin")}catch(e){console.error("Error parsing saved user data:",e),localStorage.removeItem("onairosUser")}})()}),[]);const P=e=>{console.log("Email auth successful:",e);const t=A(A({},e),{},{verified:!0,onboardingComplete:!1,pinCreated:!1});v(t),localStorage.setItem("onairosUser",JSON.stringify(t)),E("onboarding")},I=()=>{console.log("Onboarding completed");const e=A(A({},N),{},{onboardingComplete:!0});v(e),localStorage.setItem("onairosUser",JSON.stringify(e)),E("pin")},T=e=>{console.log("PIN setup completed:",e);const t=A(A(A({},N),e),{},{pinCreated:!0});v(t),localStorage.setItem("onairosUser",JSON.stringify(t)),E("dataRequest")},D=e=>{console.log("Data request completed:",e);const t=A(A({},N),{},{lastDataRequest:e});v(t),localStorage.setItem("onairosUser",JSON.stringify(t)),y(!1),s&&s(e)},R="flex items-center justify-center font-bold rounded cursor-pointer ".concat("pill"===u?"px-4 py-2":"w-12 h-12"," bg-transparent OnairosConnect"),z={flexDirection:"below"===i?"column":"row",backgroundColor:"transparent",color:m,border:"1px solid transparent"},F={width:"20px",height:"20px",marginRight:"full"===g?"12px":"0"};return t().createElement("div",{className:"flex items-center justify-center"},t().createElement("button",{className:R,onClick:async()=>{try{console.log("ðŸ”¥ openTerminal called - showing overlay"),y(!0),console.log("ðŸ”¥ setShowOverlay(true) called")}catch(e){console.error("Error in openTerminal:",e)}},style:z},("full"===g||"icon"===g)&&t().createElement("img",{src:"https://onairos.sirv.com/Images/OnairosBlack.png",alt:"Onairos Logo",style:F,className:"".concat("pill"===u?"w-6 h-6":"w-8 h-8"," object-contain")}),("full"===g||"textOnly"===g)&&t().createElement("span",{className:"".concat("black"===m?"text-black":"text-white"," ").concat("icon"===g?"sr-only":""," ").concat("right"===i?"ml-2":"left"===i?"mr-2":"")},(()=>{switch(b){case"signUp":return"Sign Up with Onairos";case"signOut":return"Sign Out of Onairos";default:return"Sign In with Onairos"}})())),x&&t().createElement("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"},console.log("ðŸ”¥ Rendering overlay!"),t().createElement("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full mx-4 max-h-[90vh] overflow-y-auto"},t().createElement("div",{className:"flex justify-between items-center p-4 border-b"},t().createElement("h2",{className:"text-lg font-semibold"},"email"===h&&"Connect with Onairos","onboarding"===h&&"Account Setup","pin"===h&&"Secure Your Account","dataRequest"===h&&"Data Access Request"),t().createElement("button",{onClick:()=>{y(!1),j(null)},className:"text-gray-500 hover:text-gray-700 text-xl font-bold"},"Ã—")),t().createElement("div",{className:"p-4"},C&&t().createElement("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg"},t().createElement("p",{className:"text-red-700 text-sm"},C)),(()=>{switch(h){case"email":return t().createElement(p,{onSuccess:P,testMode:!0});case"onboarding":return t().createElement(O,{onComplete:I,appIcon:"https://onairos.sirv.com/Images/OnairosBlack.png"});case"pin":return t().createElement(k,{onComplete:T,userEmail:null==N?void 0:N.email});case"dataRequest":return t().createElement(q,{onComplete:D,userEmail:null==N?void 0:N.email,requestData:a});default:return t().createElement("div",{className:"flex flex-col items-center space-y-4 p-6"},t().createElement("div",{className:"animate-spin h-8 w-8 border-2 border-blue-600 rounded-full border-t-transparent"}),t().createElement("p",{className:"text-gray-600"},"Loading..."))}})()))))}function z(e){return t().createElement(t().Fragment,null,t().createElement(R,e))}const F=z})(),l})()));
//# sourceMappingURL=onairos.bundle.js.map