{"version":3,"file":"onairos.js","names":["_react","_interopRequireWildcard","require","_OnairosBlack","_interopRequireDefault","_kms","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","prototype","hasOwnProperty","call","i","set","Onairos","_ref","requestData","webpageName","proofMode","OnairosAnime","console","log","ConnectOnairos","error","domain","window","location","href","EncryptUserDetails","HashedActive","postMessage","source","type","createElement","className","onClick","src","alt"],"sources":["../src/onairos.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport onairosLogo from \"./OnairosBlack.png\";\r\n// import * as othentKMS from '@othent/kms';\r\nimport connect from '@othent/kms';\r\n// import {connect, getActiveKey, encrypt} from '@othent/kms';\r\n// export { default as AxiosTestComponent } from './AxiosTestComponent.js';\r\n\r\nexport function Onairos( {requestData, webpageName, proofMode=false}) {\r\n  // useEffect(() => {\r\n  //   console.log(\"Dynamic Othent IMport\")\r\n  //   import('@othent/kms').then(async othentKMS => {\r\n  //     try {\r\n  //       console.log(\"Dynamic Othent IMport\")\r\n  //       const userDetails = await othentKMS.connect();\r\n  //       console.log(\"Othent KMS: \", userDetails);\r\n  //     } catch (error) {\r\n  //       console.error(\"Error using @othent/kms:\", error);\r\n  //     }\r\n  //   }).catch(error => {\r\n  //     console.error(\"Error importing @othent/kms:\", error);\r\n  //   });\r\n  // }, []);\r\n  \r\n  // const [token,setToken] = useState('');\r\n  const OnairosAnime = async () => {\r\n    try {\r\n      console.log(\"Clicked Onairos Connect\")\r\n      await ConnectOnairos();\r\n    } catch (error) {\r\n      // Handle any errors here\r\n      console.error(\"Error connecting to Onairos\", error);\r\n    }\r\n  };\r\n\r\n    const domain = window.location.href;\r\n\r\n  const ConnectOnairos = async () => {\r\n    let EncryptUserDetails,HashedActive\r\n    try{\r\n      // Testing User Secure Details\r\n      // const userDetails = await connect();\r\n      // console.log(\"Othent KMS : \", userDetails);\r\n      //  EncryptUserDetails = await encrypt(userDetails);; // Encrypted (Onairos Key Pair) Othent User Details Object\r\n      // const OthentKey = await getActiveKey();\r\n      //  HashedActive = sha256(OthentKey).toString();\r\n      // console.log(\"HashedActive : \", HashedActive);\r\n    }catch(e){\r\n      console.error(\"Othent in npm package error : \", e);\r\n    }\r\n\r\n    // Prepare the data to be sent\r\n    window.postMessage({\r\n      source: 'webpage',\r\n      type: 'GET_API_URL',\r\n      webpageName: webpageName,\r\n      domain:domain,\r\n      requestData: requestData,\r\n      proofMode:proofMode,\r\n      HashedActive:HashedActive,\r\n      EncryptUserDetails:EncryptUserDetails\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <button\r\n        className=\"OnairosConnect w-20 h-20 flex flex-col items-center justify-center text-white font-bold py-2 px-4 rounded cursor-pointer\"\r\n        onClick={OnairosAnime}\r\n      >\r\n        <img src={\"https://onairos.sirv.com/Images/OnairosBlack.png\"} \r\n        alt=\"Onairos Logo\" className=\"w-16 h-16 object-contain mb-2\" /> {/* Adjust size as needed */}\r\n        <span className=\"whitespace-nowrap\">Connect to Onairos</span> {/* Prevent text from wrapping */}\r\n      </button>\r\n    </div>\r\n  );\r\n}\r\n\r\n// // export default Onairos;\r\n\r\n// module.exports = Onairos;"],"mappings":"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"}